(this["webpackJsonpredux-todo-app"]=this["webpackJsonpredux-todo-app"]||[]).push([[0],{10:function(e,t,c){e.exports={wrapper:"AppBar_wrapper__21lfN",section:"AppBar_section__3Iy4s",title:"AppBar_title__JfHv9"}},11:function(e,t,c){e.exports={wrapper:"Task_wrapper__1Un4J",text:"Task_text__7szr-",btn:"Task_btn__2cnNo",checkbox:"Task_checkbox__1kBaq"}},18:function(e,t,c){e.exports={btn:"Button_btn__3xaJM",isSelected:"Button_isSelected__2JVMn"}},21:function(e,t,c){e.exports={text:"TaskCounter_text__3WbH2"}},22:function(e,t,c){e.exports={form:"TaskForm_form__1kzwH",field:"TaskForm_field__8trCg"}},23:function(e,t,c){e.exports={list:"TaskList_list__2xVr5",listItem:"TaskList_listItem__XeAAN"}},26:function(e,t,c){e.exports={container:"Layout_container__1nNA4"}},28:function(e,t,c){e.exports={wrapper:"StatusFilter_wrapper__1VEdi"}},48:function(e,t,c){},49:function(e,t,c){"use strict";c.r(t);var a=c(25),s=c.n(a),r=c(26),n=c.n(r),l=c(2);const i=e=>{let{children:t}=e;return Object(l.jsx)("main",{className:n.a.container,children:t})};var d=c(27),o=c(18),j=c.n(o);const p=e=>{let{selected:t=!1,type:c="button",children:a,...s}=e;return Object(l.jsx)("button",{className:Object(d.a)(j.a.btn,{[j.a.isSelected]:t}),type:c,...s,children:a})};var b=c(28),u=c.n(b),m=c(6);const x=Object.freeze({all:"all",active:"active",completed:"completed"});var O=c(8);const h=e=>e.tasks.items,_=e=>e.tasks.isLoading,f=e=>e.tasks.error,k=e=>e.filters.status,v=Object(O.a)([h,k],((e,t)=>{switch(t){case x.active:return e.filter((e=>{let{completed:t}=e;return!t}));case x.completed:return e.filter((e=>{let{completed:t}=e;return t}));default:return e}})),g=Object(O.a)([h],(e=>e.reduce(((e,t)=>(t.completed?e.completed+=1:e.active+=1,e)),{active:0,completed:0})));var y=c(7);const N={status:x.all},w=Object(y.c)({name:"filter",initialState:N,reducers:{setStatusFilter(e,t){let{payload:c}=t;e.status=c}}}),{setStatusFilter:C}=w.actions,L=w.reducer,T=()=>{const e=Object(m.b)(),t=Object(m.c)(k),c=t=>e(C(t));return Object(l.jsxs)("div",{className:u.a.wrapper,children:[Object(l.jsx)(p,{selected:t===x.all,onClick:()=>c(x.all),children:"All"}),Object(l.jsx)(p,{selected:t===x.active,onClick:()=>c(x.active),children:"Active"}),Object(l.jsx)(p,{selected:t===x.completed,onClick:()=>c(x.completed),children:"Completed"})]})};var A=c(21),S=c.n(A);const B=()=>{const{active:e,completed:t}=Object(m.c)(g);return Object(l.jsxs)("div",{children:[Object(l.jsxs)("p",{className:S.a.text,children:["Active: ",e]}),Object(l.jsxs)("p",{className:S.a.text,children:["Completed: ",t]})]})};var V=c(10),F=c.n(V);const I=()=>Object(l.jsxs)("header",{className:F.a.wrapper,children:[Object(l.jsxs)("section",{className:F.a.section,children:[Object(l.jsx)("h2",{className:F.a.title,children:"Tasks"}),Object(l.jsx)(B,{})]}),Object(l.jsxs)("section",{className:F.a.section,children:[Object(l.jsx)("h2",{className:F.a.title,children:"Filter by status"}),Object(l.jsx)(T,{})]})]});var J=c(22),W=c.n(J),z=c(51);const E=Object(y.c)({name:"tasks",initialState:{items:[],isLoading:!1,error:null},extraReducers:e=>{e.addCase(M.fulfilled,((e,t)=>{let{payload:c}=t;e.isLoading=!1,e.error=null,e.items=c})).addCase(H.fulfilled,((e,t)=>{let{payload:c}=t;e.isLoading=!1,e.error=null,e.items.push(c)})).addCase(R.fulfilled,((e,t)=>{let{payload:c}=t;e.isLoading=!1,e.error=null,e.items=e.items.filter((e=>{let{id:t}=e;return t!==c.id}))})).addCase(U.fulfilled,((e,t)=>{let{payload:c}=t;e.isLoading=!1,e.error=null;const a=e.items.findIndex((e=>{let{id:t}=e;return t===c.id}));e.items.splice(a,1,c)})).addMatcher(Object(y.d)(M.pending,H.pending,R.pending,U.pending),(e=>{e.isLoading=!0})).addMatcher(Object(y.d)(M.rejected,H.rejected,R.rejected,U.rejected),((e,t)=>{let{payload:c}=t;e.isLoading=!1,e.error=c}))}}).reducer;z.a.defaults.baseURL="https://65ab32c3fcd1c9dcffc62bda.mockapi.io/";const M=Object(y.b)(E.name+"/fetchAll",(async(e,t)=>{try{return(await z.a.get("tasks")).data}catch(c){return t.rejectWithValue(c.message)}})),H=Object(y.b)(E.name+"/addTask",(async(e,t)=>{try{return(await z.a.post("tasks",{text:e,completed:!1})).data}catch(c){return t.rejectWithValue(c.message)}})),R=Object(y.b)(E.name+"/deleteTask",(async(e,t)=>{try{return(await z.a.delete("tasks/".concat(e))).data}catch(c){return t.rejectWithValue(c.message)}})),U=Object(y.b)(E.name+"/toggleCompleted",(async(e,t)=>{let{id:c,completed:a}=e;try{return(await z.a.put("tasks/".concat(c),{completed:!a})).data}catch(s){return t.rejectWithValue(s.message)}})),q=()=>{const e=Object(m.b)();return Object(l.jsxs)("form",{className:W.a.form,onSubmit:t=>{t.preventDefault();const c=t.target;e(H(c.elements.text.value)),c.reset()},children:[Object(l.jsx)("input",{className:W.a.field,type:"text",name:"text",placeholder:"Enter task text..."}),Object(l.jsx)(p,{type:"submit",children:"Add task"})]})};var D=c(31),X=c(11),G=c.n(X);const K=e=>{let{task:{id:t,text:c,completed:a}}=e;const s=Object(m.b)();return Object(l.jsxs)("div",{className:G.a.wrapper,children:[Object(l.jsx)("input",{type:"checkbox",className:G.a.checkbox,checked:a,onChange:()=>s(U({id:t,completed:a}))}),Object(l.jsx)("p",{className:G.a.text,children:c}),Object(l.jsx)("button",{className:G.a.btn,onClick:()=>s(R(t)),children:Object(l.jsx)(D.a,{size:24})})]})};var P=c(23),Q=c.n(P);const Y=()=>{const e=Object(m.c)(v);return Object(l.jsx)("ul",{className:Q.a.list,children:null===e||void 0===e?void 0:e.map((e=>Object(l.jsx)("li",{className:Q.a.listItem,children:Object(l.jsx)(K,{task:e})},e.id)))})};var Z=c(1);const $=()=>{const e=Object(m.b)(),t=Object(m.c)(_),c=Object(m.c)(f);return Object(Z.useEffect)((()=>{e(M())}),[e]),Object(l.jsxs)(i,{children:[Object(l.jsx)(I,{}),Object(l.jsx)(q,{}),!t&&c&&Object(l.jsx)("p",{children:c}),Object(l.jsx)(Y,{})]})};c(48);const ee=Object(y.a)({reducer:{tasks:E,filters:L}});s.a.createRoot(document.getElementById("root")).render(Object(l.jsx)(m.a,{store:ee,children:Object(l.jsx)($,{})}))}},[[49,1,2]]]);
//# sourceMappingURL=main.c6a7346c.chunk.js.map