(this["webpackJsonpredux-todo-app"]=this["webpackJsonpredux-todo-app"]||[]).push([[0],{10:function(e,t,c){e.exports={wrapper:"AppBar_wrapper__21lfN",section:"AppBar_section__3Iy4s",title:"AppBar_title__JfHv9"}},11:function(e,t,c){e.exports={wrapper:"Task_wrapper__1Un4J",text:"Task_text__7szr-",btn:"Task_btn__2cnNo",checkbox:"Task_checkbox__1kBaq"}},18:function(e,t,c){e.exports={btn:"Button_btn__3xaJM",isSelected:"Button_isSelected__2JVMn"}},21:function(e,t,c){e.exports={text:"TaskCounter_text__3WbH2"}},22:function(e,t,c){e.exports={form:"TaskForm_form__1kzwH",field:"TaskForm_field__8trCg"}},23:function(e,t,c){e.exports={list:"TaskList_list__2xVr5",listItem:"TaskList_listItem__XeAAN"}},26:function(e,t,c){e.exports={container:"Layout_container__1nNA4"}},28:function(e,t,c){e.exports={wrapper:"StatusFilter_wrapper__1VEdi"}},48:function(e,t,c){},49:function(e,t,c){"use strict";c.r(t);var s=c(25),a=c.n(s),r=c(26),n=c.n(r),l=c(2);const i=e=>{let{children:t}=e;return Object(l.jsx)("main",{className:n.a.container,children:t})};var d=c(27),o=c(18),j=c.n(o);const p=e=>{let{selected:t=!1,type:c="button",children:s,...a}=e;return Object(l.jsx)("button",{className:Object(d.a)(j.a.btn,{[j.a.isSelected]:t}),type:c,...a,children:s})};var b=c(28),u=c.n(b),m=c(6);const x=Object.freeze({all:"all",active:"active",completed:"completed"}),O=e=>e.tasks.items,h=e=>e.tasks.isLoading,_=e=>e.tasks.error,f=e=>e.filters.status;var k=c(7);const v={status:x.all},g=Object(k.c)({name:"filter",initialState:v,reducers:{setStatusFilter(e,t){let{payload:c}=t;e.status=c}}}),{setStatusFilter:y}=g.actions,N=g.reducer,w=()=>{const e=Object(m.b)(),t=Object(m.c)(f),c=t=>e(y(t));return Object(l.jsxs)("div",{className:u.a.wrapper,children:[Object(l.jsx)(p,{selected:t===x.all,onClick:()=>c(x.all),children:"All"}),Object(l.jsx)(p,{selected:t===x.active,onClick:()=>c(x.active),children:"Active"}),Object(l.jsx)(p,{selected:t===x.completed,onClick:()=>c(x.completed),children:"Completed"})]})};var C=c(21),L=c.n(C);const T=()=>{const e=Object(m.c)(O),{active:t,completed:c}=e.reduce(((e,t)=>{let{completed:c}=t;return c?e.completed+=1:e.active+=1,e}),{active:0,completed:0});return Object(l.jsxs)("div",{children:[Object(l.jsxs)("p",{className:L.a.text,children:["Active: ",t]}),Object(l.jsxs)("p",{className:L.a.text,children:["Completed: ",c]})]})};var A=c(10),S=c.n(A);const B=()=>Object(l.jsxs)("header",{className:S.a.wrapper,children:[Object(l.jsxs)("section",{className:S.a.section,children:[Object(l.jsx)("h2",{className:S.a.title,children:"Tasks"}),Object(l.jsx)(T,{})]}),Object(l.jsxs)("section",{className:S.a.section,children:[Object(l.jsx)("h2",{className:S.a.title,children:"Filter by status"}),Object(l.jsx)(w,{})]})]});var V=c(22),F=c.n(V),I=c(51);const J=Object(k.c)({name:"tasks",initialState:{items:[],isLoading:!1,error:null},extraReducers:e=>{e.addCase(W.fulfilled,((e,t)=>{let{payload:c}=t;e.isLoading=!1,e.error=null,e.items=c})).addCase(z.fulfilled,((e,t)=>{let{payload:c}=t;e.isLoading=!1,e.error=null,e.items.push(c)})).addCase(E.fulfilled,((e,t)=>{let{payload:c}=t;e.isLoading=!1,e.error=null,e.items=e.items.filter((e=>{let{id:t}=e;return t!==c.id}))})).addCase(M.fulfilled,((e,t)=>{let{payload:c}=t;e.isLoading=!1,e.error=null;const s=e.items.findIndex((e=>{let{id:t}=e;return t===c.id}));e.items.splice(s,1,c)})).addMatcher(Object(k.d)(W.pending,z.pending,E.pending,M.pending),(e=>{e.isLoading=!0})).addMatcher(Object(k.d)(W.rejected,z.rejected,E.rejected,M.rejected),((e,t)=>{let{payload:c}=t;e.isLoading=!1,e.error=c}))}}).reducer;I.a.defaults.baseURL="https://65ab32c3fcd1c9dcffc62bda.mockapi.io/";const W=Object(k.b)(J.name+"/fetchAll",(async(e,t)=>{try{return(await I.a.get("tasks")).data}catch(c){return t.rejectWithValue(c.message)}})),z=Object(k.b)(J.name+"/addTask",(async(e,t)=>{try{return(await I.a.post("tasks",{text:e,completed:!1})).data}catch(c){return t.rejectWithValue(c.message)}})),E=Object(k.b)(J.name+"/deleteTask",(async(e,t)=>{try{return(await I.a.delete("tasks/".concat(e))).data}catch(c){return t.rejectWithValue(c.message)}})),M=Object(k.b)(J.name+"/toggleCompleted",(async(e,t)=>{let{id:c,completed:s}=e;try{return(await I.a.put("tasks/".concat(c),{completed:!s})).data}catch(a){return t.rejectWithValue(a.message)}})),R=()=>{const e=Object(m.b)();return Object(l.jsxs)("form",{className:F.a.form,onSubmit:t=>{t.preventDefault();const c=t.target;e(z(c.elements.text.value)),c.reset()},children:[Object(l.jsx)("input",{className:F.a.field,type:"text",name:"text",placeholder:"Enter task text..."}),Object(l.jsx)(p,{type:"submit",children:"Add task"})]})};var H=c(31),q=c(11),U=c.n(q);const D=e=>{let{task:{id:t,text:c,completed:s}}=e;const a=Object(m.b)();return Object(l.jsxs)("div",{className:U.a.wrapper,children:[Object(l.jsx)("input",{type:"checkbox",className:U.a.checkbox,checked:s,onChange:()=>a(M({id:t,completed:s}))}),Object(l.jsx)("p",{className:U.a.text,children:c}),Object(l.jsx)("button",{className:U.a.btn,onClick:()=>a(E(t)),children:Object(l.jsx)(H.a,{size:24})})]})};var X=c(23),G=c.n(X);const K=()=>{const e=((e,t)=>{switch(t){case x.active:return e.filter((e=>{let{completed:t}=e;return!t}));case x.completed:return e.filter((e=>{let{completed:t}=e;return t}));default:return e}})(Object(m.c)(O),Object(m.c)(f));return Object(l.jsx)("ul",{className:G.a.list,children:null===e||void 0===e?void 0:e.map((e=>Object(l.jsx)("li",{className:G.a.listItem,children:Object(l.jsx)(D,{task:e})},e.id)))})};var P=c(1);const Q=()=>{const e=Object(m.b)(),t=Object(m.c)(h),c=Object(m.c)(_);return Object(P.useEffect)((()=>{e(W())}),[e]),Object(l.jsxs)(i,{children:[Object(l.jsx)(B,{}),Object(l.jsx)(R,{}),t&&!c&&Object(l.jsx)("p",{children:"Request in progress..."}),!t&&c&&Object(l.jsx)("p",{children:c}),Object(l.jsx)(K,{})]})};c(48);const Y=Object(k.a)({reducer:{tasks:J,filters:N}});a.a.createRoot(document.getElementById("root")).render(Object(l.jsx)(m.a,{store:Y,children:Object(l.jsx)(Q,{})}))}},[[49,1,2]]]);
//# sourceMappingURL=main.b7c0c327.chunk.js.map